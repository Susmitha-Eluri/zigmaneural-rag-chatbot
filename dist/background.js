chrome.runtime.onMessage.addListener((t,n,e)=>{if(t.type==="ASK_QUESTION")return fetch("https://web-production-941b5.up.railway.app/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t.question})}).then(r=>{if(!r.ok)throw new Error(`HTTP Error ${r.status}`);return r.json()}).then(r=>{e({success:!0,answer:r.answer})}).catch(r=>{console.error("Background Fetch Error:",r),e({success:!1,error:"Local Backend is not running on port 8001."})}),!0});

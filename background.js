chrome.runtime.onMessage.addListener((t,c,r)=>{if(t.type==="ASK_QUESTION"){const a="https://zigmaneural-rag-chatbot.onrender.com/ask",o=new AbortController,n=setTimeout(()=>o.abort(),6e4);return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t.question}),signal:o.signal}).then(e=>{if(clearTimeout(n),!e.ok)throw new Error(`HTTP Error ${e.status}`);return e.json()}).then(e=>{r({success:!0,answer:e.answer})}).catch(e=>{clearTimeout(n),console.error("Background Fetch Error:",e);let s="Backend is asleep or crashed. Check Render logs.";e.name==="AbortError"&&(s="Request timed out. Render is taking too long to wake up."),r({success:!1,error:s})}),!0}});
